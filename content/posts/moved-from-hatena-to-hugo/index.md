---
title: "はてなブログからHugo+Netlifyへ移行した"
date: 2020-12-16T10:13:46+09:00
draft: false
author: shiomiya
categories: random
tags: ["hugo"]
---

はてなブログから Hugo へ移行した移行記。

## 移行のワケ

はてなブログ自体のレスポンスが悪いように感じたこととはてなブログの記事を編集する際のレスポンスの悪さ故にフットワークが重くなっていたことが主なモチベーション。

(あとせっかくドメイン持ってるのに使わないのももったいない気がした。)

Github pages でも Actions を使って同じようなことはできるけど、こっちのほうが楽そうだったので Netlify にした。

## 移行

- はてブロ記事エクスポート
- Hugo でブログ生成、Github へ push して Netlify へデプロイ
- テーマとかその他微調整

### はてなブログの記事を移行

移行について調べていたらスクリプトを書いている人を見つけて、せっかくなので使わせてもらった。

{{< github "stormcat24/hateblo2hugo" >}}

その後、一応元記事にリダイレクトを設定して終わり。

### Hugo 周り

テーマは [ribice/kiss](https://github.com/ribice/kiss) をベースにパッチを当てて使っている。

デザインとかレイアウトが微妙に気に入らないときにササッと修正できるのもまたいいところである。

`content` 配下のディレクトリとファイル構成は、 `posts/<article-name>/index.md` となるようにした。画像を挿入するときに参照が楽なのと、記事ごとにコンテンツを管理できる気がしてよい。

```
.
├── about.md
└── posts
   ├── article1
   │  ├── image1.png
   │  ├── image2.png
   │  └── index.md
   ├── article2
   │  └── index.md
   ├── article3
...
```

## 移行してみて

![](Lighthouse-Report.png)

Lighthouse の SEO を除く全てのスコアで 100 付近をマークした (テーマが優秀なのかもしれない)。

あと、単純な表示速度と記事を書くときのレスポンスは期待通り良くなった。

ローカルでビルドして HTML を上げているわけではなく Netlify でビルドするので、一応 Github 上で直接記事を書くこともできる。Web からでもローカルからでも記事がかけるようになったのはメモ書きくらいに書くのが楽そうで割と嬉しい。

おまけ程度に思っていた shortcode 機能が意外と使えそうな感じがしている。

## 今後と余談

現在絶賛記事移行中なので少しずつ移行する。Hexo で生成した別のブログを持っていたりするので、それを Hugo に移行するか、はたまたこのブログと統合してしまうかちょっと検討中。

Analytics とか Search Console 周りにあまり詳しくないのでこの辺の移行がうまくいっているのか不安。
